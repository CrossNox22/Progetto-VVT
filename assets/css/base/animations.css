/* animations.css - Keyframes ed Effetti Atmosferici */

/* --- DEFINIZIONE ANIMAZIONI (KEYFRAMES) --- */

@keyframes rain {
    0% { background-position: 0% 0%; }
    100% { background-position: 10px 100%; }
}

@keyframes snow {
    0% { background-position: 0px 0px; }
    100% { background-position: 50px 200px; }
}

@keyframes fog-scroll {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

@keyframes twinkle {
    from { transform: scale(1); opacity: 0.8; }
    to { transform: scale(1.5); opacity: 0.4; box-shadow: 0 0 5px 0.5px rgba(255, 255, 255, 0.8); }
}

@keyframes ray_anim {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes flash {
    0%, 92%, 95% { background-color: transparent; }
    93%, 96% { background-color: rgba(255, 255, 255, 0.5); }
}

/* --- CLASSI METEO (Il "Vestito" del layer) --- */

.weather-rain {
    background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.4) 50%, rgba(255, 255, 255, 0) 100%);
    background-size: 2px 30px;
    animation: rain 0.4s linear infinite;
    opacity: 0.6;
}

.weather-snow {
    background-image: radial-gradient(3px 3px at 20% 30%, rgba(255, 255, 255, 0.9) 50%, rgba(0, 0, 0, 0)),
                      radial-gradient(3px 3px at 40% 70%, rgba(255, 255, 255, 0.9) 50%, rgba(0, 0, 0, 0)),
                      radial-gradient(3px 3px at 60% 20%, rgba(255, 255, 255, 0.9) 50%, rgba(0, 0, 0, 0)),
                      radial-gradient(3px 3px at 80% 90%, rgba(255, 255, 255, 0.9) 50%, rgba(0, 0, 0, 0));
    background-size: 200px 200px;
    animation: snow 5s linear infinite;
    opacity: 0.8;
}

.weather-storm {
    background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.5) 50%, rgba(255, 255, 255, 0) 100%);
    background-size: 3px 40px;
    animation: rain 0.2s linear infinite, flash 6s infinite;
    opacity: 0.7;
}

.weather-fog {
    background: linear-gradient(to right, rgba(200, 200, 200, 0) 0%, rgba(200, 200, 200, 0.4) 40%, rgba(200, 200, 200, 0) 100%);
    background-size: 200% 100%;
    animation: fog-scroll 10s linear infinite;
    opacity: 0.5;
}

/* --- STELLE & SOLE (Oggetti del Cielo) --- */

#stars-container {
    display: none; /* Viene mostrato via JS quando Ã¨ notte */
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: 0;
    pointer-events: none;
}

.star {
    position: absolute;
    background: #fff;
    width: 2px; height: 2px; /* Dimensione base stella */
    border-radius: 50%;
    animation: twinkle 2s infinite alternate;
}

/* RAGGI SOLARI */
.sun {
    position: absolute; top: 0; left: 0; right: 0; bottom: 0; margin: auto;
    width: 70px; height: 70px; border-radius: 50%;
    background: white; opacity: 0.9;
    box-shadow: 0px 0px 40px 15px white;
}

.ray_box {
    position: absolute; margin: auto; top: 0px; left: 0; right: 0; bottom: 0;
    width: 70px; animation: ray_anim 120s linear infinite;
}

.ray {
    background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 50%, rgba(255, 255, 255, 0) 100%);
    margin-left: 10px; border-radius: 80% 80% 0 0;
    position: absolute; opacity: 0.1;
}

/* Definizione Raggi specifici (Posizione e rotazione) */
.ray1 { height: 170px; width: 30px; transform: rotate(180deg); top: -175px; left: 15px; }
.ray2 { height: 100px; width: 8px; transform: rotate(220deg); top: -90px; left: 75px; }
.ray3 { height: 170px; width: 50px; transform: rotate(250deg); top: -80px; left: 100px; }
.ray4 { height: 120px; width: 14px; transform: rotate(305deg); top: 30px; left: 100px; }
.ray5 { height: 140px; width: 30px; transform: rotate(-15deg); top: 60px; left: 40px; }
.ray6 { height: 90px; width: 50px; transform: rotate(30deg); top: 60px; left: -40px; }
.ray7 { height: 180px; width: 10px; transform: rotate(70deg); top: -35px; left: -40px; }
.ray8 { height: 120px; width: 30px; transform: rotate(100deg); top: -45px; left: -90px; }